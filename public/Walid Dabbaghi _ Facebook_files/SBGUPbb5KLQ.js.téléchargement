;/*FB_PKG_DELIM*/

__d("useCometTwoButtonDialog",["CometDialogLoadingState.react","react","requireDeferred","useCometDeferredDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("CometTwoButtonDialogImpl.react").__setRef("useCometTwoButtonDialog");function j(){return h.jsx(c("CometDialogLoadingState.react"),{})}j.displayName=j.name+" [from "+f.id+"]";function a(){var a=c("useCometDeferredDialog")(i,j);return[a]}g["default"]=a}),98);
__d("composerPreAttachmentAreaReducer",["CometComposerPreAttachmentPluginTypes","JSResourceForInteraction","composerCommunityQAPluginEligibilityChecker"],(function(a,b,c,d,e,f,g){"use strict";b={COMMUNITY_QA:c("JSResourceForInteraction")("composerCommunityQAPostTransform").__setRef("composerPreAttachmentAreaReducer"),FUN_FACT:c("JSResourceForInteraction")("composerFunFactsTransform").__setRef("composerPreAttachmentAreaReducer"),WORK_SUMMARY:c("JSResourceForInteraction")("composerSummaryTransform").__setRef("composerPreAttachmentAreaReducer")};function a(a,b){var e,f;e=(e=a.attachmentArea)==null?void 0:e.activeAttachmentType;var g=b.preAttachmentType===c("CometComposerPreAttachmentPluginTypes").COMMUNITY_QA&&!d("composerCommunityQAPluginEligibilityChecker").isAttachmentCompatible(e);switch(b.type){case"ACTIVATE_PRE_ATTACHMENT_TYPE":return((f=a.preAttachmentArea)==null?void 0:f.activePreAttachmentType)===b.preAttachmentType?a:babelHelpers["extends"]({},a,{attachmentArea:babelHelpers["extends"]({},a.attachmentArea,{activeAttachmentType:g?void 0:e}),preAttachmentArea:babelHelpers["extends"]({},a.preAttachmentArea,{activePreAttachmentType:b.preAttachmentType})});case"REMOVE_PRE_ATTACHMENT_TYPE":return((f=a.preAttachmentArea)==null?void 0:f.activePreAttachmentType)!==b.preAttachmentType?a:babelHelpers["extends"]({},a,{preAttachmentArea:babelHelpers["extends"]({},a.preAttachmentArea,{activePreAttachmentType:null})})}return a}g.transformerResourceForPreAttachmentType=b;g.composerPreAttachmentAreaReducer=a}),98);
__d("getActiveAttachmentTransformer",["JSResourceForInteraction","cr:3416"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!1);return b?null:h[a]}var h={ANIMATED_IMAGE:c("JSResourceForInteraction")("composerAnimatedImageTransform").__setRef("getActiveAttachmentTransformer"),COMMUNITY_GIVING:c("JSResourceForInteraction")("communityGivingTransform").__setRef("getActiveAttachmentTransformer"),COMPANY_POLL:b("cr:3416"),DISCUSSION_POST:c("JSResourceForInteraction")("composerDiscussionPostTransform").__setRef("getActiveAttachmentTransformer"),FB_COLLECTIBLE:c("JSResourceForInteraction")("composerFeedFBCollectibleTransform").__setRef("getActiveAttachmentTransformer"),FB_COLLECTIBLE_LISTING:c("JSResourceForInteraction")("composerFeedFBCollectibleListingTransform").__setRef("getActiveAttachmentTransformer"),FB_NOTE:c("JSResourceForInteraction")("composerFBNotePostTransform").__setRef("getActiveAttachmentTransformer"),FILE:c("JSResourceForInteraction")("groupCometComposerUploadFileTransformer").__setRef("getActiveAttachmentTransformer"),GET_MESSAGES:c("JSResourceForInteraction")("composerGetMessagesTransform").__setRef("getActiveAttachmentTransformer"),GET_WHATSAPP_MESSAGES:c("JSResourceForInteraction")("composerGetWhatsAppMessagesTransform").__setRef("getActiveAttachmentTransformer"),GROUP_THIRD_PARTY_APP:c("JSResourceForInteraction")("composerGroupThirdPartyAppTransform").__setRef("getActiveAttachmentTransformer"),KNOWLEDGE_COLLECTION:c("JSResourceForInteraction")("composerKnowledgeCollectionTransform").__setRef("getActiveAttachmentTransformer"),KNOWLEDGE_NOTE:c("JSResourceForInteraction")("composerKnowledgeNoteTransform").__setRef("getActiveAttachmentTransformer"),LIFE_EVENT:c("JSResourceForInteraction")("composerMajorLifeEventsTransform").__setRef("getActiveAttachmentTransformer"),LINK:c("JSResourceForInteraction")("linkAttachmentAreaFeedTransform").__setRef("getActiveAttachmentTransformer"),LOCATION:c("JSResourceForInteraction")("composerLocationAttachmentAreaTransform").__setRef("getActiveAttachmentTransformer"),MEDIA:c("JSResourceForInteraction")("mediaAttachmentAreaTransform").__setRef("getActiveAttachmentTransformer"),MEMETRON:c("JSResourceForInteraction")("composerMemetronTransform").__setRef("getActiveAttachmentTransformer"),NEON:c("JSResourceForInteraction")("composerPrayerTransform").__setRef("getActiveAttachmentTransformer"),PAID_CONTENT:c("JSResourceForInteraction")("mediaAttachmentAreaTransform").__setRef("getActiveAttachmentTransformer"),PAPER_DOCUMENT_CASE:c("JSResourceForInteraction")("composerPaperDocumentCasePostTransform").__setRef("getActiveAttachmentTransformer"),PHOTO3D:c("JSResourceForInteraction")("cometComposerPhoto3dAttachmentTransform").__setRef("getActiveAttachmentTransformer"),POLL:b("cr:3416"),SHARE:c("JSResourceForInteraction")("linkAttachmentAreaFeedTransform").__setRef("getActiveAttachmentTransformer"),SHARE_CANDIDATE:c("JSResourceForInteraction")("geminiComposerShareCandidateTransform").__setRef("getActiveAttachmentTransformer"),SHARE_WITH_FILTER:c("JSResourceForInteraction")("linkAttachmentAreaFeedTransform").__setRef("getActiveAttachmentTransformer"),SHIFT_COVER:c("JSResourceForInteraction")("composerShiftCoverTransform").__setRef("getActiveAttachmentTransformer"),VIDEO_MEETUP:c("JSResourceForInteraction")("composerRoomTransform").__setRef("getActiveAttachmentTransformer"),WOODHENGE_SUPPORT:c("JSResourceForInteraction")("composerFubsSupportTransform").__setRef("getActiveAttachmentTransformer"),WORK_CHECKLIST:c("JSResourceForInteraction")("workChecklistAttachmentTransform").__setRef("getActiveAttachmentTransformer"),WORK_MULTI_ATTACHMENTS:c("JSResourceForInteraction")("composerWorkMultiAttachmentsTransform").__setRef("getActiveAttachmentTransformer")};g["default"]=a}),98);
__d("CometComposerWarnStatusTextLengthForLexical.react",["CometComposerInlineErrorRenderer.react","CometComposerStylingConstants","DEPRECATED_useLexicalCharacterLimit","lengthInUTF8Bytes","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useState;function a(a){var b=a.characterLimit,e=a.customWarningLimit,f=a.lexicalEditor;a=a.xstyle;var g=j(null),k=g[0],l=g[1],m=(g=e)!=null?g:d("CometComposerStylingConstants").COMPOSER_WARNING_LIMIT;e=i(function(){return{remainingCharacters:function(a){a<=m?l(a):a>m&&l(null)},strlen:function(a){return c("lengthInUTF8Bytes")(a)}}},[m]);d("DEPRECATED_useLexicalCharacterLimit").useCharacterLimit(f,b,e);return k!=null&&k<=m?h.jsx(c("CometComposerInlineErrorRenderer.react"),{error:k,xstyle:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometMediaEditorCanEditWithAnyToolEligibilityChecker",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b!=null){var c;c=((c=b==null?void 0:b.length)!=null?c:0<=a.index)?b[a.index]:b[0];b=h(c,a.isOnVideoLiteComposer);if(b==null)return{ALL:null}}return{}}function h(a,b){if(a==null)return;if(a.fileType==="VIDEO"&&a.state==="PREEXISTING"&&!b&&!c("gkx")("1915661"))return;if(a.fileType!=="VIDEO"&&a.fileType!=="PHOTO")return;if(a.state!=="UPLOADED"&&a.state!=="UPLOADING"&&a.state!=="PREEXISTING")return;return a}g.cometMediaEditorCanEditWithAnyToolEligibilityChecker=a;g.validateMediaForAnyMutations=h}),98);
__d("getViewStatePhotoData",["cometMediaEditorCanEditWithAnyToolEligibilityChecker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=((b=b)!=null?b:[]).find(function(b){var c;b=d("cometMediaEditorCanEditWithAnyToolEligibilityChecker").validateMediaForAnyMutations(b,!1);return(b==null?void 0:(c=b.data)==null?void 0:c.id)===a||(b==null?void 0:b.fileType)==="PHOTO"&&(b==null?void 0:b.originalEntID)===a});if(b!=null&&b.fileType==="PHOTO"&&((b==null?void 0:b.state)==="UPLOADED"||(b==null?void 0:b.state)==="PREEXISTING"))return b;else return null}g["default"]=a}),98);
__d("getViewStateVideoData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=((b=b)!=null?b:[]).find(function(b){var c;return(b==null?void 0:(c=b.data)==null?void 0:c.id)===a||(b==null?void 0:b.state)==="UPLOADED"&&(b==null?void 0:b.fileType)==="VIDEO"&&(b==null?void 0:b.entID)===a});if(b!=null&&b.fileType==="VIDEO"&&((b==null?void 0:b.state)==="UPLOADED"||(b==null?void 0:b.state)==="PREEXISTING"))return b;else return null}f["default"]=a}),66);
__d("processXYTagsForMedia",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return;return a.map(function(a){if(a!=null){var b,c;b={id:(b=a.taggee)==null?void 0:b.id};c=(c=a.taggee)==null?void 0:(c=c.metadata)==null?void 0:c.product_tag_type;if(c!=null){var d;b={id:(d=a.taggee)==null?void 0:d.id,metadata:{product_tag_type:c}}}return babelHelpers["extends"]({},a,{taggee:babelHelpers["extends"]({},b)})}})}f["default"]=a}),66);
__d("mediaAttachmentAreaTransform",["Promise","getViewStatePhotoData","getViewStateVideoData","processXYTagsForMedia","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e){var f=[];for(var g in a.mediaUploadStatuses)f.push(a.mediaUploadStatuses[g].onFileComplete);c("promiseDone")(b("Promise").all(f).then(function(b){e(babelHelpers["extends"]({},d,{attachments:b.map(function(b){var d=b.attachmentID;if(b.attachmentType==="PHOTO"){var e,f=c("getViewStatePhotoData")(d,a.mediaAttachments);e=c("processXYTagsForMedia")(f==null?void 0:(e=f.data)==null?void 0:e.tags);return{photo:babelHelpers["extends"]({id:d},f==null?void 0:f.data,{tags:e})}}if(b.attachmentType==="VIDEO"){return{video:babelHelpers["extends"]({id:d},(f=c("getViewStateVideoData")(d,a.mediaAttachments))==null?void 0:f.data,{notify_when_processed:!0})}}})}))}));return}g["default"]=a}),98);
__d("useCometComposerDecorator",["CometComposerPluginsDispatchContext","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a){var b=h(c("CometComposerPluginsDispatchContext"));i(function(){b({decorator:a,type:"install_decorator"});return function(){return b({decorator:a,type:"uninstall_decorator"})}},[a,b])}g["default"]=a}),98);
__d("useCometComposerHandler",["CometComposerPluginsDispatchContext","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a){var b=h(c("CometComposerPluginsDispatchContext"));i(function(){b({handler:a,type:"install_handler"});return function(){return b({handler:a,type:"uninstall_handler"})}},[b,a])}g["default"]=a}),98);
__d("composerAttachmentAreaFeedTransform",["getActiveAttachmentTransformer","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e;e=(e=a.attachmentArea)==null?void 0:e.activeAttachmentType;var f=e?c("getActiveAttachmentTransformer")(e,a==null?void 0:a.useFeatureDefinitions):null;f?c("promiseDone")(f.load().then(function(c){return c(a,babelHelpers["extends"]({},b,{attachments:[]}),d)})):e==="VIEW_ONLY_FEED_ATTACHMENT"?d(b):d(babelHelpers["extends"]({},b,{attachments:[]}))}g["default"]=a}),98);
__d("composerAudienceFeedTransform",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ComposerTelemetryFalcoEvent").__setRef("composerAudienceFeedTransform");function a(a,b,c){var d,e=a==null?void 0:(d=a.albumData)==null?void 0:d.albumID,f=(a==null?void 0:a.viewerEditPostFeatureCapabilities)?a.viewerEditPostFeatureCapabilities.includes("POST_CONTAINER"):!1;h.onReady(function(b){return b.log(function(){var b;return{call_site:"composerAudienceFeedTransform",creation_session_id:(b=a.creationSessionID)!=null?b:"",debug_info:"viewState privacy info:"+((b=(b=a.audience)==null?void 0:(b=b.privacy)==null?void 0:b.base_state)!=null?b:"null")+" |albumID:"+((b=e)!=null?b:"null")+" |canMovePostToAlbum:"+f.toString(),event:"transform"}})});e!=null?f?c(babelHelpers["extends"]({},b,{audience:{album_id:e}})):c(b):c(babelHelpers["extends"]({},b,{audience:a.audience}))}g["default"]=a}),98);
__d("getHashtagRegex",["getHashtagRegexString"],(function(a,b,c,d,e,f){function a(){return new RegExp(b("getHashtagRegexString")(),"ig")}f["default"]=a}),66);
__d("getHashtagMatches",["getHashtagRegex"],(function(a,b,c,d,e,f){var g=b("getHashtagRegex")();function a(a,b){a=a.getText();var c,d,e;while((c=g.exec(a))!==null)d=c.index+c[1].length,e=c[2],c=c[3],b(d,d+e.length+c.length)}f["default"]=a}),66);
__d("useCometComposerHashtagsDecorator",["getHashtagMatches","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=a.children,c=a.hasFormattedText;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasFormattedText"]);a.blockKey;a.contentState;a.decoratedText;a.entityKey;a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["blockKey","contentState","decoratedText","entityKey","offsetKey"]);return h.jsx("span",babelHelpers["extends"]({},a,{className:""+((c?"":" xv78j7m")+(c?" x1bvjpef":""+(c?"":""))),children:b}))}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.hasFormattedText;a=a.priority;var d=a===void 0?0:a;return i(function(){return{component:h.memo(j),priority:d,props:{hasFormattedText:b},strategy:c("getHashtagMatches")}},[b,d])}g["default"]=a}),98);
__d("CometComposerHashtagsPluginForDraftJS.react",["react","useCometComposerDecorator","useCometComposerHashtagsDecorator","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=a.hasFormattedText;c("useCometComposerDecorator")(c("useCometComposerHashtagsDecorator")({hasFormattedText:a}));return null}b=c("withComposerViewStatePart")(a,function(a){return{hasFormattedText:((a=a.formattedText)==null?void 0:a.currentFormattedTextPreset)!=null}});g["default"]=b}),98);
__d("CometMentionsBridge.react",["CometMentions.react","CometMentionsA11yContext","Keys","emptyFunction","react","recoverableViolation","useDebouncedComet","usePrevious","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.dataSourceResolverConfig.resolver,d=a.editorRef,e=a.editorState,f=a.getAnchorRef,g=a.getSearchText,n=a.layoutStrategyRenderer,o=a.loggingProvider,p=a.mentionsHandlerForSelectedEntry,q=a.onEditorStateChange,r=a.pluginsDispatcher,s=a.position;s=s===void 0?"below":s;var t=a.priority;a=a.viewStrategyRenderer;f=f();var u=c("usePrevious")(e),v=j(c("CometMentionsA11yContext")),w=v||c("emptyFunction");v==null&&c("recoverableViolation")("a11y context is not available","comet_ax");var x=l(null),y=l(!1),z=m(!1),A=z[0],B=z[1];z=m(!1);var C=z[0],D=z[1];z=m(null);var E=z[0],F=z[1];z=m(!1);var G=z[0],H=z[1],I=i(function(a){var b=x.current;switch(a){case"MentionsAutocomplete/cancel":H(!0);break;case"MentionsAutocomplete/select-mention":b&&b.select();break;case"MentionsAutocomplete/previous-mention":b&&b.moveUp();break;case"MentionsAutocomplete/next-mention":b&&b.moveDown();break}return"not-handled"},[]),J=i(function(a){var b=x.current,d=y.current;if(a.keyCode===c("Keys").ESC&&E!=null){d&&(a.preventDefault(),a.stopPropagation());return"MentionsAutocomplete/cancel"}if(b!=null&&d)switch(a.keyCode){case c("Keys").DOWN:a.preventDefault();return"MentionsAutocomplete/next-mention";case c("Keys").RETURN:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case c("Keys").TAB:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case c("Keys").UP:a.preventDefault();return"MentionsAutocomplete/previous-mention"}return},[E]),K=i(function(){if(d!=null&&e!=null&&e.__type==="editor-state-based"){var a=e.draftEditorState;if(a.getSelection().getHasFocus()){a=g(a);if(a!==E){B(!0);D(!1);a=a!=null&&a.length>0&&b(a)!=null?a:null;F(a);H(!1)}}else B(!1)}},[d,e,g,E,b]),L=c("useDebouncedComet")(K);k(function(){var a={handleKeyCommand:I,keyBindingFn:J,priority:t};r({handler:a,type:"install_handler"});return function(){return r({handler:a,type:"uninstall_handler"})}},[J,I,r,t]);k(function(){L();return function(){L.reset()}},[K,L]);k(function(){if(e!=null&&u!==e&&e.__type==="editor-state-based"){var a=e.draftEditorState;a=g(a);a==null||a.length===0||b(a)==null?K():L()}},[e,g,K,L,u,b]);z=i(function(a){a=p({dataSourceResolver:b,deferredEditorState:e,entry:a,onEditorStateChange:q});a&&(v!=null&&v(),B(!0),F(null))},[b,e,q,v,p]);var M=i(function(){var a=!1,b=x.current;if(b!=null){b=(b=b.getViewRef())==null?void 0:b.current;if(b!=null){var c=document.activeElement;while(c!=null){if(c===b){a=!0;break}c=c.parentNode}}}D(a)},[]),N=i(function(){D(!0)},[]),O=i(function(a){y.current=a},[]),P=i(function(a){if(a)return;v!=null&&v()},[v]);C=x.current==null?!1:C;G=!G&&E!=null&&E.length>0&&(A||C);C=b(E);var Q=C.dataSource;C=C.searchResult;if(G&&f!=null&&Q!=null&&C!=null)return h.jsx(c("CometMentions.react"),{context:f,dataSource:Q,editorHasFocus:A,inputElement:null,layoutStrategyRenderer:n,loggingProvider:o,onAriaChange:w,onBlur:M,onEntriesUpdated:P,onFocus:N,onSelectedEntry:z,onVisibilityChange:O,position:s,queryString:C.matchingString,ref:x,viewStrategyRenderer:a});y.current&&(v!=null&&v());y.current=!1;return null}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{editorRef:a.editorRef,editorState:a.editorState}});g["default"]=e}),98);
__d("useCometComposerMentionsAnchorDecorator",["CometComposerPluginsDispatchContext","CometErrorBoundary.react","CometMentionsBridge.react","CometMentionsLayoutStrategy.react","gkx","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useMemo,l=b.useRef;function m(a){var b=a.children;a.currentBlockKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","currentBlockKey"]);var d=j(c("CometComposerPluginsDispatchContext")),e=c("useComposerViewStateDispatcher")(),f=i(function(a){e({draftEditorState:a,type:"update_draft_editor_state"})},[e]),g=l();return h.jsxs("span",{ref:g,children:[h.jsx(c("CometMentionsBridge.react"),babelHelpers["extends"]({},a,{getAnchorRef:function(){return g.current},inputElement:null,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),onEditorStateChange:f,pluginsDispatcher:d})),b]})}m.displayName=m.name+" [from "+f.id+"]";var n={project:"gemini_composer"};function o(a){return h.jsx(c("CometErrorBoundary.react"),{context:n,fallback:function(){return a.children},children:h.jsx(m,babelHelpers["extends"]({},a))})}o.displayName=o.name+" [from "+f.id+"]";function a(a,b){return k(function(){return{component:h.memo(c("gkx")("3596")?o:m),priority:1,props:a,strategy:b.bind(null,a.dataSourceResolverConfig.resolver,a.currentBlockKey)}},[b,a])}g["default"]=a}),98);
__d("CometComposerHashtagsWithTypeaheadPlugin.react",["getHashtagMatches","useCometComposerDecorator","useCometComposerHashtagsDecorator","useCometComposerMentionsAnchorDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=["#","\\uFF03"],i=function(a,b,d,e,f){if(b!==d.getKey())return;var g=f.getSelectionAfter().getFocusOffset();c("getHashtagMatches")(d,function(b,c){if(g===c-1){c=d.getText().substring(b,c);var f=a(c);f=f.searchResult;if(f!=null){f=f.replaceableString;b=b+c.indexOf(f);e(b,b+f.length)}}});h.includes(d.getText().charAt(g))&&e(g,g+1)};function a(a){var b=a.hasFormattedText;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasFormattedText"]);c("useCometComposerDecorator")(c("useCometComposerHashtagsDecorator")({hasFormattedText:b,priority:2}));c("useCometComposerDecorator")(c("useCometComposerMentionsAnchorDecorator")(a,i));return null}g["default"]=a}),98);
__d("createCometComposerHashtagsEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.createEntity("HASHTAG","SEGMENTED",{id:a})}f["default"]=a}),66);
__d("getCometComposerHashtagSearch",["getHashtagRegex"],(function(a,b,c,d,e,f,g){"use strict";var h=["#","\\uFF03"];function a(a){a=a.getCurrentContent();var b=a.getSelectionAfter(),d=b.getAnchorKey();a=a.getBlockForKey(d);d=a.getText().substring(0,b.getFocusOffset());if(h.includes(d.charAt(b.getFocusOffset()-1)))return d.charAt(b.getFocusOffset()-1);a=new RegExp(c("getHashtagRegex")());b=a.exec(d);var e;while((e=a.exec(d))!=null)b=e;return b!=null?b[0]:null}g["default"]=a}),98);
__d("breakingNewsReducer",["composerAttachmentAreaReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.breakingNews;a=babelHelpers.objectWithoutPropertiesLoose(a,["breakingNews"]);var e=c==null?void 0:c.breakingNewsEditStartTime;switch(b.type){case"ADD_BREAKING_NEWS":var f=b.breakingNewsDuration;return babelHelpers["extends"]({},a,{breakingNews:{breakingNewsChanged:!0,breakingNewsDuration:f,breakingNewsEditStartTime:e,breakingNewsIsSettingUpEdit:!1}});case"REMOVE_BREAKING_NEWS":return babelHelpers["extends"]({},a,{breakingNews:{breakingNewsChanged:!0,breakingNewsDuration:void 0,breakingNewsEditStartTime:e,breakingNewsIsSettingUpEdit:!1}});case"REMOVE_ATTACHMENT_TYPE":return d("composerAttachmentAreaReducer").removeActiveAttachmentViewStateData(a,b,{attachmentType:"LINK",field:"breakingNews"});case"REMOVE_LINK_URL":return babelHelpers["extends"]({},a,{breakingNews:void 0});case"ADD_LINK_URL":if((c==null?void 0:c.breakingNewsIsSettingUpEdit)===!0)return babelHelpers["extends"]({},a,{breakingNews:{breakingNewsChanged:!0,breakingNewsDuration:c==null?void 0:c.breakingNewsDuration,breakingNewsEditStartTime:e,breakingNewsIsSettingUpEdit:!1}});else return babelHelpers["extends"]({},a,{breakingNews:void 0})}return babelHelpers["extends"]({breakingNews:c},a)}g["default"]=a}),98);
__d("getEntityMatcher",[],(function(a,b,c,d,e,f){function g(a,b){return b.getEntity(a)}function a(a,b){return function(c,d,e){var f=b||g;c.findEntityRanges(function(b){b=b.getEntity();return typeof b==="string"&&a(f(b,e))},d)}}f["default"]=a}),66);
__d("getImplicitURLMatches",["URI","URLMatchUtils","URLMatcher","killswitch"],(function(a,b,c,d,e,f){"use strict";var g,h=b("URLMatchUtils").canonicalizeURL,i=b("URLMatchUtils").isURL;function a(a,c,d){d=a.getText();a=0;var e=b("URLMatcher").match(d);while(e!=null){var f=d.indexOf(e),j=f+e.length,k=e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e;b("killswitch")("LINK_SCRAPER_LIMIT_VALID_URLS")?(g||(g=b("URI"))).isValidURI(e)&&c(a+f,a+j,k):i(h(e))&&(g||(g=b("URI"))).isValidURI(e)&&c(a+f,a+j,k);a+=j;d=d.substring(j);e=b("URLMatcher").match(d)}}e.exports=a}),null);
__d("useCometComposerLinkScrape",["Promise","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var d=c("useComposerViewStateDispatcher")();return h(function(){d({type:"ADD_LINK_URL",url:a}),d({attachmentType:"LINK",onRemove:function(a){return new(b("Promise"))(function(b){a({onRemovedLast:b,type:"REMOVE_LINK_URL"})})},type:"ACTIVATE_ATTACHMENT_TYPE"})},[d,a])}g["default"]=a}),98);
__d("CometComposerLinksPluginForDraftJS.react",["breakingNewsReducer","composerLinkAttachmentChecker","composerLinkAttachmentReducer","cr:2003939","getEntityMatcher","getImplicitURLMatches","react","useCometComposerDecorator","useCometComposerLinkScrape","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=function(a){var d=a.children;a=a.href;var e=c("useCometComposerLinkScrape")(a);i(function(){e()},[e]);return b("cr:2003939")!=null?h.jsx(b("cr:2003939"),{href:a,children:d}):h.jsx("span",{className:"x1fey0fg",children:d})};e=function(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var c=a.contentState;a=a.entityKey;c=a!=null?c.getEntity(a):null;a=c!=null?c.getData():null;a=(c=a==null?void 0:a.url)!=null?c:"";return h.jsx(j,{href:a,children:b})};f=function(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);a=a.decoratedText;a=a.startsWith("http://")||a.startsWith("https://")?a:"https://"+a;return h.jsx(j,{href:a,children:b})};var k={component:h.memo(f),priority:0,props:{},strategy:c("getImplicitURLMatches")},l={component:h.memo(e),priority:0,props:{},strategy:c("getEntityMatcher")(function(a){return a.getType()==="LINK"})};function a(a){c("useComposerViewStateReducer")(c("composerLinkAttachmentReducer"),c("composerLinkAttachmentChecker"));c("useComposerViewStateReducer")(c("breakingNewsReducer"));c("useCometComposerDecorator")(k);c("useCometComposerDecorator")(l);return null}g["default"]=a}),98);
__d("cometMentionDecoratorStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=/\s/;function h(a){var b=a.getText();return a.getCharacterList().map(function(a,c){return a.getEntity()===null?b.slice(c,c+1):" "}).join("")}function a(a,b,c,d,e){if(b!==c.getKey())return;b=h(c);c=e.getSelectionAfter().getFocusOffset();e=b.substring(c).split(g)[0].length;b=b.substring(0,c+e);c=a(b);e=c.searchResult;if(e!=null){a=e.leadOffset;b=e.replaceableString;d(a,a+b.length)}}f.getTextWithoutEntities=h;f.decoratorStrategy=a}),66);
__d("useCometComposerMentionsDecorator",["getEntityMatcher","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=a.children,c=a.hasFormattedText,d=a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasFormattedText","offsetKey"]);a.blockKey;var e=a.contentState;a.decoratedText;var f=a.entityKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["blockKey","contentState","decoratedText","entityKey"]);var g="regular";if(f!=null){e=e.getEntity(f).getData();e.mentionDecorType!=null&&(g=e.mentionDecorType)}return h.jsx("span",babelHelpers["extends"]({},a,{className:""+((!c&&g==="weak"?" x1h0vfkc xi81zsa":""+(!c&&g==="regular"?" xv78j7m":""))+(c?" x1bvjpef":""+(!c&&g==="weak"?"":""+(!c&&g==="regular"?"":"")))),"data-offset-key":d,spellCheck:!1,children:b}))}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=c("getEntityMatcher")(function(a){return a.getType()==="MENTION"});return i(function(){return{component:h.memo(j),priority:1,props:{hasFormattedText:a},strategy:b}},[a,b])}g["default"]=a}),98);
__d("CometComposerMentionsPlugin.react",["cometMentionDecoratorStrategy","composerEditorStateViewStateReducer","react","useCometComposerDecorator","useCometComposerMentionsAnchorDecorator","useCometComposerMentionsDecorator","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var b=a.hasFormattedText;b=b===void 0?!1:b;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasFormattedText"]);c("useComposerViewStateReducer")(c("composerEditorStateViewStateReducer"));c("useCometComposerDecorator")(c("useCometComposerMentionsDecorator")(b));c("useCometComposerDecorator")(c("useCometComposerMentionsAnchorDecorator")(babelHelpers["extends"]({},a),d("cometMentionDecoratorStrategy").decoratorStrategy));return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometReplaceMentionedTextInEditorState",["DraftModifier","EditorState"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){g=g(b.getCurrentContent(),a);var h=g.getLastCreatedEntityKey();g=d("DraftModifier").replaceText(g,e,f,b.getCurrentInlineStyle(),h);e=a.decorType;g.mergeEntityData(h,{mentionDecorType:e});return c("EditorState").push(b,g,"insert-fragment")}function a(a,b,c,d,e){var f=b.getSelection(),g=b.getCurrentContent(),k=f.getAnchorKey(),l=f.getAnchorOffset();g=g.getBlockMap().get(k);k=f.getStartOffset();k=g.getText().substr(k-c,c);k=i(a,k);g=l-j(g.getText().substr(0,l),k,c);return h(a,b,f.set("anchorOffset",g),e(a),d)}function i(a,b){b=a.label;return b}function j(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}g["default"]=a}),98);
__d("getCometComposerMentionsSearch",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}function a(a){var b=a.getSelection();a=a.getCurrentContent();var c=b.getAnchorKey();a=a.getBlockForKey(c);return g(a,b.getAnchorOffset())}f["default"]=a}),66);
__d("detectLinkForMisinformationAnalysis",["URLMatchUtils","getImplicitURLMatches"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.draftEditorState.getCurrentContent();e.getBlocksAsArray().forEach(function(b){c("getImplicitURLMatches")(b,function(b,c,e){b=d("URLMatchUtils").canonicalizeURL(e);d("URLMatchUtils").isURL(b)&&a.add(b)},e)})}g["default"]=a}),98);
__d("handleNewLinks",["URLMatchUtils","detectLinkForMisinformationAnalysis"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=new Set();if(a!=null)switch(a.__type){case"editor-state-based":c("detectLinkForMisinformationAnalysis")(g,a);break;case"plain-text":break;default:return a.__type}a=b==null?void 0:b.url;a!=null&&a!==""&&g.add(d("URLMatchUtils").canonicalizeURL(a));Array.from(g.values()).filter(function(a){return f.has(a)===!1}).forEach(function(a){return e({__type:"TRACK_COMPOSED_URL",dispatch:e,url:a})});Array.from(f.values()).filter(function(a){return g.has(a)===!1}).forEach(function(a){e({__type:"UNTRACK_COMPOSED_URL",url:a})})}g["default"]=a}),98);
__d("CometComposerMisinformationLinkDetectorPluginForDraftJS.react",["JSResourceForInteraction","gkx","handleNewLinks","handlePendingMisinformationOnComposerSubmit","hasNoLinksToAnalyze","maybeTriggerMisinformationDialog","react","useCometLazyDialog","useComposerPreSubmitHook","useMisinformationState","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useEffect,i=b.useRef,j=c("gkx")("2817"),k=c("JSResourceForInteraction")("CometMisinformationLinkComposerConfirmationDialog.react").__setRef("CometComposerMisinformationLinkDetectorPluginForDraftJS.react");function a(a){var b=a.composerType,d=a.editorState,e=a.linkAttachment;a=c("useMisinformationState")();var f=a.composedURLs,g=a.composerPhase,l=a.dispatch,m=a.misinformationRecords,n=a.setComposerPhase,o=i(null);a=c("useCometLazyDialog")(k);var p=a[0],q=i(!1);h(function(){if(b==="share"&&j)return;o.current=m;var a=function(){q.current=!0},d=function(){q.current=!1};c("maybeTriggerMisinformationDialog")({composedURLs:f,composerPhase:g,composerType:b,dialogIsOpen:q,dispatch:l,misinformationRecords:m},{onCloseDialog:d,onTriggerDialog:a,openConfirmationDialog:p})},[f,g,b,l,m,p]);h(function(){c("handleNewLinks")(d,e,l,f)},[f,d,e]);var r=i([]);h(function(){var a=Array.from(f);c("handlePendingMisinformationOnComposerSubmit")(a,m,r)},[f,m]);function s(a){var b=a.onContinue,d=a.onHalt;n("COMMITTING");r.current.push({onContinue:function(){n("COMPOSING"),b()},onHalt:function(){n("COMPOSING"),d()}});a=c("hasNoLinksToAnalyze")(f,m);if(a){a=[].concat(r.current);r.current.length=0;a.forEach(function(a){a=a.onContinue;a()})}else l({__type:"EXIT_COOLDOWN_PERIOD"})}c("useComposerPreSubmitHook")(s);h(function(){return function(){var a=o.current;a!==null&&Object.keys(a).forEach(function(b){b=a[b];b!=null&&b.dispose()})}},[]);return null}e=c("withComposerViewStatePart")(a,function(a){return{editorState:a.editorState,linkAttachment:a.linkAttachment}});g["default"]=e}),98);
__d("composerFormattedTextTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(a.formattingType!=="SATP"){a.formattedText!==null?c(babelHelpers["extends"]({},b,{text_format_preset_id:"0"})):c(b);return}c(babelHelpers["extends"]({},b,{text_format_preset_id:(a=(c=a.formattedText)==null?void 0:(b=c.currentFormattedTextPreset)==null?void 0:b.preset_id)!=null?a:"0"}))}f["default"]=a}),66);
__d("fundraiserForStoryTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(a.nonprofit==null)c(b);else{a=[{fundraiser_for_story:{charity_id:a.nonprofit.nonprofitID}}];a=b.attachments?[].concat(b.attachments,a):a;c(babelHelpers["extends"]({},b,{attachments:a}))}}f["default"]=a}),66);
__d("getRangeBoundingClientRect",["getRangeClientRects"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("getRangeClientRects")(a);var c=0,d=0,e=0,f=0;if(a.length){if(a.length>1&&a[0].width===0){var g=a[1];c=g.top;d=g.right;e=g.bottom;f=g.left}else{g=a[0];c=g.top;d=g.right;e=g.bottom;f=g.left}for(g=1;g<a.length;g++){var h=a[g];h.height!==0&&h.width!==0&&(c=Math.min(c,h.top),d=Math.max(d,h.right),e=Math.max(e,h.bottom),f=Math.min(f,h.left))}}return{top:c,right:d,bottom:e,left:f,width:d-f,height:e-c}}e.exports=a}),null);
__d("getVisibleSelectionRect",["getRangeBoundingClientRect"],(function(a,b,c,d,e,f){"use strict";function a(c){c=c.getSelection();if(!c.rangeCount)return null;c=c.getRangeAt(0);c=b("getRangeBoundingClientRect")(c);var d=c.top,e=c.right,f=c.bottom,g=c.left;return d===0&&e===0&&f===0&&g===0?null:c}e.exports=a}),null);
__d("getPositionNextToSelection",["getVisibleSelectionRect"],(function(a,b,c,d,e,f,g){"use strict";function b(b,d,e){e===void 0&&(e=0);var f=c("getVisibleSelectionRect")(a);b=(b=b.current)==null?void 0:b.getBoundingClientRect();d=(d=d.current)==null?void 0:d.getBoundingClientRect();if(!b||!d||!f)return{left:0,top:0};var g=0;e=b.width-d.width-e*2;var h=f.left-b.left+f.width/2;h=h-d.width/2;return{left:Math.max(Math.min(h,e),g),top:f.top-b.top-d.height}}g["default"]=b}),98);
__d("pollAttachmentAreaFeedTransformResource",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("pollAttachmentAreaFeedTransform").__setRef("pollAttachmentAreaFeedTransformResource");b=a;g["default"]=b}),98);
__d("composerActivityMinutiaeTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.reshareFilterMetadata!=null&&a.reshareFilterMetadata.is_used===!1;if(a.activityMinutiae!=null&&a.activityMinutiae.objectID!=null&&a.activityMinutiae.activityID!=null&&!d){d=a.activityMinutiae.hideAttachment===!0?"HIDDEN":void 0;c(babelHelpers["extends"]({},b,{inline_activities:[{object_attachment_behavior:d,object_id:a.activityMinutiae.objectID,taggable_activity_id:a.activityMinutiae.activityID}]}))}else c(babelHelpers["extends"]({},b,{inline_activities:[]}))}f["default"]=a}),66);
__d("composerTrackingTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a.tracking!=null?c(babelHelpers["extends"]({},b,{is_tracking_encrypted:!0,tracking:a.tracking.encrypted_tracking})):c(b)}f["default"]=a}),66);
__d("handleSelectedEntityEntryForMentions",["FBLogger","cometReplaceMentionedTextInEditorState","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dataSourceResolver,d=a.deferredEditorState,e=a.entry,f=a.getReplacementString,g=a.getSearchText,h=a.onEditorStateChange;a=a.onMentionsCreateContentState;if(d==null||d.__type!=="editor-state-based")return!1;d=d.draftEditorState;g=g(d);if(g==null){c("FBLogger")("CometComposer").warn("Race condition where the user selected a mention but theres no text in the editor");return!1}b=b(g);g=b.searchResult;if(g==null){c("recoverableViolation")("onPressEntry was called and no search result was found for the query","CometComposer");return!1}b=c("cometReplaceMentionedTextInEditorState")(e,d,g.replaceableString.length,a,f);if(d!==b){h(b);return!0}return!1}g["default"]=a}),98);
__d("useMentionsHandlerForSelectedEntry",["handleSelectedEntityEntryForMentions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getReplacementString,d=a.getSearchText,e=a.onMentionsCreateContentState;return function(a){var f=a.dataSourceResolver,g=a.deferredEditorState,h=a.entry;a=a.onEditorStateChange;return c("handleSelectedEntityEntryForMentions")({dataSourceResolver:f,deferredEditorState:g,entry:h,getReplacementString:b,getSearchText:d,onEditorStateChange:a,onMentionsCreateContentState:e})}}g["default"]=a}),98);
__d("FeedComposerCometHashtagsWithTypeaheadPlugin.react",["CometComposerHashtagsWithTypeaheadPlugin.react","FeedComposerCometHashtagTypeheadListItem.react","cr:1911814","createCometComposerHashtagsEntity","getCometComposerHashtagSearch","react","useCometMentionsLoggingProvider","useCometTypeaheadViewListStrategy","useFeedComposerCometHashtagsDataSourceResolverConfig","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="MAIN_COMPOSER";function a(a){var d=a.typeaheadContext;d=d===void 0?i:d;var e=a.typeaheadScopeID,f=a.typeaheadResultsIncludeMetatext;f==null&&(f=!0);d=c("useFeedComposerCometHashtagsDataSourceResolverConfig")({context:d,includeMetatext:f,limit:6,payloadDecorators:b("cr:1911814")!=null?[b("cr:1911814")({limit:1})]:void 0,scopeID:e});f=c("useMentionsHandlerForSelectedEntry")({getReplacementString:j,getSearchText:c("getCometComposerHashtagSearch"),onMentionsCreateContentState:k});e=c("useCometMentionsLoggingProvider")({context_id:null,context_type:"undirected",surface:"COMPOSER",typeahead_type:"HASHTAG"});var g=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometHashtagTypeheadListItem.react")});return h.jsx(c("CometComposerHashtagsWithTypeaheadPlugin.react"),{currentBlockKey:a.currentBlockKey,dataSourceResolverConfig:d,getSearchText:c("getCometComposerHashtagSearch"),hasFormattedText:a.hasFormattedText,loggingProvider:e,mentionsHandlerForSelectedEntry:f,priority:1,viewStrategyRenderer:g})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.label;return a}function k(a,b){b=b.key;return c("createCometComposerHashtagsEntity")(b,a)}e=c("withComposerViewStatePart")(a,function(a){var b=a==null?void 0:a.editorState;b=b!=null&&b.__type==="editor-state-based"?b.draftEditorState:null;return{currentBlockKey:b!=null?b.getSelection().getStartKey():null,hasFormattedText:((b=a.formattedText)==null?void 0:b.currentFormattedTextPreset)!=null}});g["default"]=e}),98);
__d("composerLocationMinutiaeTransformData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a==null?{explicit_place_id:"0"}:{explicit_place_id:a.placeID,place_attachment_setting:b==="SHOW_ATTACHMENT"?"SHOW_ATTACHMENT":"HIDE_ATTACHMENT"}}f["default"]=a}),66);
__d("composerLocationMinutiaeCreationDataTransform",["composerLocationMinutiaeTransformData"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d(babelHelpers["extends"]({},b,c("composerLocationMinutiaeTransformData")(a.locationMinutiae,b.place_attachment_setting)))}g["default"]=a}),98);
__d("MentionsModalEntryClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("647");c=b("FalcoLoggerInternal").create("mentions_modal_entry_clicked",a);e.exports=c}),null);
__d("MentionsOpenModalClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("680");c=b("FalcoLoggerInternal").create("mentions_open_modal_click",a);e.exports=c}),null);
__d("CometMentionsModalLoggingProvider",["CometMentionsLoggingProvider","MentionsModalEntryClickedFalcoEvent","MentionsOpenModalClickFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=new(c("CometMentionsLoggingProvider"))(a),this.$1=a,this.$3=!1}var b=a.prototype;b.maybeEndSession=function(a,b,d){var e=this;if(this.$3)return;if(d==null){this.abandonSession(a,b);return}var f=d.rawData;if(f.type!=="SEE_ALL_ENTRY"){this.$2.maybeEndSession(a,b,d);return}if(a==null)return;var g=b!=null?JSON.stringify(b.map(function(a){a=a.key;return{id:a}})):null,h=d.key,i=(f=b==null?void 0:b.findIndex(function(a){a=a.key;return a===h}))!=null?f:null;this.$3=!0;c("MentionsOpenModalClickFalcoEvent").log(function(){return babelHelpers["extends"]({},e.$1,{selected_position:String(i),serialized_candidate_suggestions:g,session_id:e.getSessionID(),typed_query:a})})};b.getSessionID=function(){return this.$2.getSessionID()};b.isSessionActive=function(){return this.$2.isSessionActive()};b.startSession=function(a){return this.$2.startSession(a)};b.logSelectedEntriesFromModal=function(a,b){var d=this;if(a.length===0)this.abandonSession(b,[]);else if(a.length===1)this.$2.maybeEndSession(b,[],a[0]);else{var e=a.splice(0,a.length-1);e.forEach(function(a){c("MentionsModalEntryClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},d.$1,{selected_position:"0",selected_result_display_text:a.label,selected_result_id:a.key,selected_result_id_string:a.key,serialized_candidate_suggestions:"",session_id:d.getSessionID(),typed_query:b})})});this.$2.maybeEndSession(b,[],a[a.length-1])}this.$3=!1};b.abandonSession=function(a,b){this.$2.maybeEndSession(a,b);return};return a}();g["default"]=a}),98);
__d("useCometMentionsModalLoggingProvider",["CometMentionsModalLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){a===void 0&&(a=i);return h(function(){return new(c("CometMentionsModalLoggingProvider"))(a)},[a])}g["default"]=a}),98);
__d("FeedComposerCometMentionsPluginForDraftjs.react",["CometComposerMentionsPlugin.react","FeedComposerCometMentionsViewItemResolver.react","createCometComposerMentionsEntity","getCometComposerMentionsSearch","react","useCometMentionsModalLoggingProvider","useCometTypeaheadViewListStrategy","useFeedComposerCometMentionsDataSourceResolverConfig","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.label;return a}function j(a,b){return c("createCometComposerMentionsEntity")(b.key,!1,a)}function a(a){var b=c("useFeedComposerCometMentionsDataSourceResolverConfig")({limit:5,shouldBootstrapOnLayoutEffect:!0}),d=c("useCometMentionsModalLoggingProvider")({context_id:null,context_type:"undirected",surface:"COMPOSER",typeahead_type:"ENTITY"}),e=c("useMentionsHandlerForSelectedEntry")({getReplacementString:i,getSearchText:c("getCometComposerMentionsSearch"),onMentionsCreateContentState:j}),f=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return h.jsx(c("CometComposerMentionsPlugin.react"),{currentBlockKey:a.currentBlockKey,dataSourceResolverConfig:b,getSearchText:c("getCometComposerMentionsSearch"),hasFormattedText:a.hasFormattedText,loggingProvider:d,mentionsHandlerForSelectedEntry:e,priority:1,viewStrategyRenderer:f})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){var b=a==null?void 0:a.editorState;b=b!=null&&b.__type==="editor-state-based"?b.draftEditorState:null;return{currentBlockKey:b!=null?b.getSelection().getStartKey():null,hasFormattedText:((b=a.formattedText)==null?void 0:b.currentFormattedTextPreset)!=null}});g["default"]=b}),98);
__d("composerWithTagTransform",["withTagIDsTrackerConversionUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c(babelHelpers["extends"]({},b,{with_tags_ids:d("withTagIDsTrackerConversionUtils").convertWithTagIDsTrackerToArray(a.withTagIDsTracker)}))}g["default"]=a}),98);
__d("draftJsEditorStateMoveCursorToEndOfSelection",["EditorState","SelectionState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getSelection(),d=Math.max(b.getAnchorOffset(),b.getFocusOffset());b=new(c("SelectionState"))({anchorKey:b.getAnchorKey(),anchorOffset:d,focusKey:b.getFocusKey(),focusOffset:d,hasFocus:!0,isBackward:!1});return c("EditorState").forceSelection(a,b)}g["default"]=a}),98);
__d("CompositeDraftDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=".";a=function(){function a(a){this.$1=a.slice()}var b=a.prototype;b.isCompositionOfDecorators=function(a){if(this.$1.length!==a.length)return!1;for(var b=0;b<a.length;b++)if(this.$1[b]!==a[b])return!1;return!0};b.getDecorators=function(){return this.$1};b.getDecorations=function(a,b){var c=Array(a.getText().length).fill(null);this.$1.forEach(function(d,e){var f=0;d=d.strategy;function g(a,b){i(c,a,b)&&(j(c,a,b,e+h+f),f++)}d(a,g,b)});return g(c)};b.getComponentForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].component};b.getPropsForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].props};return a}();function i(a,b,c){for(b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function j(a,b,c,d){for(b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("CometMagicUploadsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2012346");c=b("FalcoLoggerInternal").create("comet_magic_uploads",a);e.exports=c}),null);
__d("ComposerTelemetryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("101");c=b("FalcoLoggerInternal").create("composer_telemetry",a);e.exports=c}),null);
__d("FbCollectibleInteractionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2185");c=b("FalcoLoggerInternal").create("fb_collectible_interaction",a);e.exports=c}),null);